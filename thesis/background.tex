\chapter{Technical Background}

In this chapter concepts and technologies that are central for this thesis will
be explained.

%%%%%%%%%% DIL %%%%%%%%%%%%%%%
\section{\glsentrylong{dil} Networks}
\label{dil}

To improve the performance of Web services in limited military networks, we
must understand what limitations we're dealing with. The \gls{dil} concept refers
to three characteristics of a limited network. As we discussed in the
introduction, military tactical networks may suffer from these constraints.

\begin{description}
\item[Disconnected]
Military units that participate in a tactical network are highly mobile
and may disconnect from a network either voluntarily or not. This causes
topology changes. Unplanned loss of connectivity can be due to various reasons,
such as loss of signal or equipment malfunction.  The disconnected term refers
to that nodes in the network may be disconnected for a long time, possibly for
multiple days.

\item[Intermittent]
	
Nodes in a \gls{dil} environment may lose connection temporarily before
reconnecting. The duration range from seconds to minutes.

\item[Limited] The Data rate, how many bits that are sent per second, is limited
in \gls{dil} networks. Various aspects that affects the date rate are discussed
in the next section.

\end{description}

\subsection{Other constraints}

As well as being restricted  by the communication link itself, military units
may have other limitations as well. Consider that military foot patrols have
limited battery capacity as they have to carry it with them in their
backpacks. The transmission range of the communication equipment for mobile
units may also be limited. Another factor that comes into play for military
units is that in some cases they are required to enter radio silence in order
to avoid being detected by the enemy. During such circumstances the soldiers
may only receive data, but not send any.


\subsection{Network metrics}

Network metrics are used to describe various aspects of data transfer from a
point to another.

\begin{description}

\item[Link throughput] The link throughput is influenced by how large distance
there is between the units communicating.

\item[Link reliability] How much of the arriving data that is correct. This is
called \textit{bit error rate} or \textit{packet error rate}. With high error
rates, more data to be transmitted again due to the data arriving being
incorrect. This contributes to longer transmission time. In a military setting,
an enemy may deliberate sabotage the network with jamming, causing higher error
rates.

\item[Link latency] The communication technology in use influences how fast data
transmission can be done. Long delay may cause that the application sending data
timing out.

\end{description}




%%%%%%% WEB SERVICES
\section{Web services}

Web services are client and server applications that communicate over a
network and can be used to implement a service-oriented architecture. Web
services are critical in any data systems and are in widespread use in both
civilian and military systems. It is a broad term and can be used to describe
different types of services that are available over a network. The most common
usage of the term refers to the \gls{w3c} definition of SOAP-based Web
services, but could also refer to more simple HTTP-based \gls{rest} services.

In this thesis we investigate optimization techniques that should support both
\gls{w3c} Web services and \gls{rest}ful web services.

\subsection{W3C Web services}
\label{web-services}

\gls{w3c} has defined Web Services as \cite{wrc-web-service}:

\paragraph{}
\textit{
    A Web service is a software system designed to support interoperable
    machine-to-machine interaction over a network. It has an interface described in
    a machine-processable format (specifically WSDL). Other systems interact with
    the Web service in a manner prescribed by its description using SOAP-messages,
    typically conveyed using HTTP with an XML serialization in conjunction with
    other Web-related standards.
}

\paragraph{}

This definition points out a set of standards that enables machine-to-machine
interactions. All communication is based on sending XML-based SOAP messages.
It exists many definitions of Web services where the core principles are the
same, but the finer details may vary.  These standards are discussed in the
following sections. The Web Service technology is realization of the \gls{soa}
principles which provides loose coupling and ease integration between systems.

Figur her.


\subsubsection{XML}

\gls{xml} is a markup language and is considered as the base standard for Web
services. An XML document consist of data surrounded by tags and is designed
to be both machine and user readable. Tags describe the data they enclose. The
tags can be standardized, which allows exchange and understanding of data in a
standardized, machine-readable way.


\subsubsection{Service descriptions: WSDL}

\gls{wsdl} is an interface definition language that using XML describes
functionality offered by a Web Service. The interface describes available
functions, data types for message requests and responses and binding
information about the transport protocol, as well as address information for
locating the service. This enables a formal, machine-readable description of
Web Service which clients can invoke.


\subsubsection{SOAP}

\gls{soap} is an application level XML-based protocol specification for
information exchange in the implementation of Web services. It is transport
protocol agnostic and can be carried over various protocols. The far most
transport protocol used is HTTP over TCP, but other protocols such as UDP and
SMTP can be used as well. A SOAP message is an "envelope" consisting of an
optional header and a required body. The header can contain information not
directly related to the message such as routing information for the message and
security information. The body contains the data being sent, known as the
payload.

\subsection{\glsentrylong{rest}}
\label{rest}

There also exist other types of Web services which does not follow the
previously discussed standards. \gls{rest} is an architectural style which let
users manipulate data using a set of stateless operations. It is based on a
client-server model where a client requests data from a server when needed. It
is closely associated with HTTP and use HTTP verbs(e.g GET, POST,
DELETE) to operate on resources on a server.

 \gls{rest} is easy to understand and has gained a lot of traction in the
civil  industry in the latest years. \gls{rest} uses exclusively HTTP over
TCP.  However, TCP does not necessarily perform satisfactorily in \gls{dil}
environments, which limits the usability in tactical networks(trenger kilde?).
It also lack standardization, which may cause interoperability issues.






\section{Protocols of interest}

In order to improve the performance of Web services in \gls{dil} environments
we're in this thesis investigated usage of alternative transport protocol
other than TCP can be utilized. In this thesis we're looking into protocols in
the transport and application layer of the Internet Protocol Suite\cite{rfc-1122}.

%%%%%%%%%%%% Internet Protocol Suite %%%%%%%%%%%%%%%%%%%
\begin{table}[h]
\begin{tabularx}{\textwidth}{| X |}
\hline
  \textbf{Application Layer} \\ \hline
  \textbf{Transport Layer} \\ \hline
  \textbf{Internet Layer} \\ \hline
  \textbf{Link layer} \\ \hline
\end{tabularx}
\caption{The layers of the Internet Protocol Suite}
\end{table}


In the following sections we will give a short introduction to the protocols we're
investigating in this thesis.



\subsection{\glsentrylong{coap}}

\gls{coap} is a specialized web transfer protocol designed for use with
constrained nodes and constrained networks in the Internet of Things. It is
based on the REST model, where the server makes resources available  under a
URL. Clients access these resources using the HTTP-verbs GET, PUT, POST and
DELETE. Designed to use minimal resources, both on the device and on the
network.

\begin{itemize}
    \item Application level protocol.
    \item Can carry any data format.
    \item UDP on IP.
    \item Standardized in RFC 7252.
    \item Simple binary base header format
\end{itemize}


\subsection{\glsentrylong{amqp}}

\gls{amqp} is a messaging middleware that can utilize different transport
protocols.

\begin{itemize}
    \item Support both request/response and publish/subscribe communication
    paradigms.
    \item Reliable when facing network disruptions, since it employs a
    broker-based architecture with store-and-forward capabilities.
\end{itemize}

\subsection{\glsentrylong{mqtt}}

MQTT is a client server publish/subscribe messaging transport protocol
\cite{oasis-mqtt}. It is considered lightweight and is designed for use in networks
where the bandwidth is limited. It is broker-based, where the broker is
responsible for delivering messages to clients based on the topic of a
message. 

\subsection{\glsentrylong{sctp}}

\gls{sctp} is transport-layer protocol which offers functionality from both \gls{udp} and \gls{tcp}.
\begin{itemize}
    \item Message-oriented like UDP.
    \item Ensure reliable, in sequence transport of messages with congestion control like TCP.
    \item Multi-homing and multi-streaming.
\end{itemize}


\subsection{\glsentrylong{tcp}}
\gls{tcp} is one of the core transport protocol of the Internet Protocol Suite.
\begin{itemize}
    \item Connection-oriented.
    \item End-to-end reliability.
\end{itemize}

\subsection{UDP}
WSReliability? For rest må det da bygges inn støtte i proxien.
Reliable UDP. Implmentasjon av UDP som er reliable. En gammel protokoll?
\begin{itemize}
    \item No mechanisms for flow control, packet ordering or integrity of
    messages.
\end{itemize}


\section{Summary}


%%%%%%%%%%%% Transport protokoller %%%%%%%%%%%%%%%%%%%
\begin{table}[h]
\begin{tabularx}{\textwidth}{| X | X |}
\hline
  \textbf{Protocol} & \textbf{Summary} \\ \hline
  HTTP over TCP & Widely used. Breaks down in DIL environments.\\ \hline
  CoAP & Application level protocol designed for use in the Internet of Things. \\ \hline
  AMQP & Messaging middleware with store-and-forward capabilities.\\ \hline
  MQTT & Summary here\\ \hline
  SCTP & Similar to UDP but also provide reliable, in sequence transport of messages like TCP. \\ \hline
  TCP & The well-known transport protocol. \\ \hline
  UDP & Lacks reliability, but frameworks exist that provides it. \\ \hline
\end{tabularx}
\caption{Protocols of Interest}
\end{table}